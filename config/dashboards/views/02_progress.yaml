title: Progress
path: progress
icon: mdi:chart-line-variant
panel: true            # <-- kluczowe: widok na peÅ‚nÄ… szerokoÅ›Ä‡
badges: []
cards:
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: repeat(3, minmax(0, 1fr))  # 3 kolumny po 1fr
      grid-auto-rows: auto
      gap: 8px
    # (opcjonalnie responsywnoÅ›Ä‡)
    mediaquery:
      "(max-width: 1200px)":
        grid-template-columns: 1fr
      "(min-width: 1201px) and (max-width: 1700px)":
        grid-template-columns: repeat(2, minmax(0, 1fr))
    cards:
      # Kolumna 1
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: CzeÅ›Ä‡, Igor! ðŸ‘‹
            subtitle: Twoje treningi i postÄ™py na Strava
          - type: custom:mushroom-title-card
            title: ðŸ† Podsumowanie
            subtitle: OsiÄ…gniÄ™cia i statystyki
          - type: markdown
            content: |
              ### ðŸ“Š Twoje aktywnoÅ›ci Strava

              **Ostatni bieg:** {{ states('sensor.strava_igor_wojcik_run') }}
              - ðŸ“… {{ as_timestamp(states('sensor.strava_igor_wojcik_run_date')) | timestamp_custom('%Y-%m-%d %H:%M') }}
              - ðŸƒ {{ states('sensor.strava_igor_wojcik_run_distance') | float | round(1) }} km
              - â±ï¸ {% set seconds = states('sensor.strava_igor_wojcik_run_moving_time') | int %}{{ (seconds // 3600) }}:{{ '%02d' | format((seconds % 3600) // 60) }}:{{ '%02d' | format(seconds % 60) }}
              - â¤ï¸ {{ states('sensor.strava_igor_wojcik_run_average_heartrate') | float | round(1) }} bpm
              - ðŸ‘ {{ states('sensor.strava_igor_wojcik_run_kudos') }} kudos

              **Ostatnia jazda:** {{ states('sensor.strava_igor_wojcik_ride') }}
              - ðŸ“… {{ as_timestamp(states('sensor.strava_igor_wojcik_ride_date')) | timestamp_custom('%Y-%m-%d %H:%M') }}
              - ðŸš´ {{ states('sensor.strava_igor_wojcik_ride_distance') | float | round(1) }} km
              - â±ï¸ {% set seconds = states('sensor.strava_igor_wojcik_ride_moving_time') | int %}{{ (seconds // 3600) }}:{{ '%02d' | format((seconds % 3600) // 60) }}:{{ '%02d' | format(seconds % 60) }}
              - â¬†ï¸ {{ states('sensor.strava_igor_wojcik_ride_elevation_gain') | float | round(1) }} m
              - ðŸ‘ {{ states('sensor.strava_igor_wojcik_ride_kudos') }} kudos

              ---
              _ðŸ’¡ Dane synchronizujÄ… siÄ™ automatycznie ze Strava_

      # Kolumna 2
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: ðŸƒ Ostatni Bieg
            subtitle: Najnowsza aktywnoÅ›Ä‡ biegowa
          - type: markdown
            content: |
              <ha-icon icon="mdi:calendar"></ha-icon> **Data:** {{ as_timestamp(states('sensor.strava_igor_wojcik_run_date')) | timestamp_custom('%Y-%m-%d %H:%M') }}

              <ha-icon icon="mdi:map-marker-distance"></ha-icon> **Dystans:** {{ states('sensor.strava_igor_wojcik_run_distance') | float | round(1) }} km

              <ha-icon icon="mdi:timer"></ha-icon> **Czas:** {% set seconds = states('sensor.strava_igor_wojcik_run_moving_time') | int %}{{ (seconds // 3600) }}:{{ '%02d' | format((seconds % 3600) // 60) }}:{{ '%02d' | format(seconds % 60) }}

              <ha-icon icon="mdi:speedometer"></ha-icon> **Tempo:** {{ states('sensor.strava_igor_wojcik_run_pace') }}

              <ha-icon icon="mdi:heart-pulse"></ha-icon> **Åšr. HR:** {{ states('sensor.strava_igor_wojcik_run_average_heartrate') | float | round(1) }} bpm

              <ha-icon icon="mdi:fire"></ha-icon> **Kalorie:** {{ states('sensor.strava_igor_wojcik_run_calories') | float | round(0) }} kcal

              <ha-icon icon="mdi:thumb-up"></ha-icon> **Kudos:** {{ states('sensor.strava_igor_wojcik_run_kudos') }}
          - type: custom:mushroom-title-card
            title: ðŸ“ˆ Historia biegÃ³w (7 dni)
            subtitle: Dystans i tempo
          - type: custom:mini-graph-card
            entities:
              - entity: sensor.strava_igor_wojcik_run_distance
                name: Dystans
                color: "#51cf66"
            hours_to_show: 168
            line_width: 3
            points_per_hour: 0.5
            show:
              labels: true
              icon: true
              state: true
          - type: custom:mini-graph-card
            entities:
              - entity: sensor.strava_igor_wojcik_run_average_heartrate
                name: Åšr. HR
                color: "#ff6b6b"
            hours_to_show: 168
            line_width: 3
            points_per_hour: 0.5
            show:
              labels: true
              icon: true
              state: true

      # Kolumna 3
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: ðŸš´ Ostatnia Jazda
            subtitle: Najnowsza aktywnoÅ›Ä‡ rowerowa
          - type: markdown
            content: |
              <ha-icon icon="mdi:calendar"></ha-icon> **Data:** {{ as_timestamp(states('sensor.strava_igor_wojcik_ride_date')) | timestamp_custom('%Y-%m-%d %H:%M') }}

              <ha-icon icon="mdi:map-marker-distance"></ha-icon> **Dystans:** {{ states('sensor.strava_igor_wojcik_ride_distance') | float | round(1) }} km

              <ha-icon icon="mdi:timer"></ha-icon> **Czas:** {% set seconds = states('sensor.strava_igor_wojcik_ride_moving_time') | int %}{{ (seconds // 3600) }}:{{ '%02d' | format((seconds % 3600) // 60) }}:{{ '%02d' | format(seconds % 60) }}

              <ha-icon icon="mdi:speedometer"></ha-icon> **PrÄ™dkoÅ›Ä‡:** {{ states('sensor.strava_igor_wojcik_ride_speed') | float | round(1) }} km/h

              <ha-icon icon="mdi:elevation-rise"></ha-icon> **PrzewyÅ¼szenie:** {{ states('sensor.strava_igor_wojcik_ride_elevation_gain') | float | round(1) }} m

              <ha-icon icon="mdi:timer-outline"></ha-icon> **Tempo:** {{ states('sensor.strava_igor_wojcik_ride_pace') }}

              <ha-icon icon="mdi:thumb-up"></ha-icon> **Kudos:** {{ states('sensor.strava_igor_wojcik_ride_kudos') }}
          - type: custom:mushroom-title-card
            title: ðŸ“ˆ Historia jazd (7 dni)
            subtitle: Dystans i prÄ™dkoÅ›Ä‡
          - type: custom:mini-graph-card
            entities:
              - entity: sensor.strava_igor_wojcik_ride_distance
                name: Dystans
                color: "#00a8ff"
            hours_to_show: 168
            line_width: 3
            points_per_hour: 0.5
            show:
              labels: true
              icon: true
              state: true
          - type: custom:mini-graph-card
            entities:
              - entity: sensor.strava_igor_wojcik_ride_speed
                name: PrÄ™dkoÅ›Ä‡
                color: "#4ecdc4"
            hours_to_show: 168
            line_width: 3
            points_per_hour: 0.5
            show:
              labels: true
              icon: true
              state: true

