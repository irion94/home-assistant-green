title: Solar
path: solar
icon: mdi:solar-power
badges: []
cards:
  # Modern header
  - type: custom:mushroom-title-card
    title: ‚òÄÔ∏è System Solarny
    subtitle: Fotowoltaika i magazyn energii

  # =====================================
  # HERO - Power Flow Overview
  # =====================================
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: repeat(4, 1fr)
      gap: 8px
    cards:
      # PV Production
      - type: custom:mushroom-entity-card
        entity: sensor.inverter_pv_power
        name: Produkcja PV
        icon: mdi:solar-power
        icon_color: amber
        primary_info: state
        secondary_info: name

      # Battery Status
      - type: custom:mushroom-entity-card
        entity: sensor.inverter_battery
        name: Bateria
        icon: mdi:battery-80
        icon_color: green
        primary_info: state
        secondary_info: name

      # Load Consumption
      - type: custom:mushroom-entity-card
        entity: sensor.inverter_load_power
        name: ObciƒÖ≈ºenie
        icon: mdi:home-lightning-bolt
        icon_color: blue
        primary_info: state
        secondary_info: name

      # Grid Power
      - type: custom:mushroom-entity-card
        entity: sensor.inverter_grid_power
        name: Sieƒá
        icon: mdi:transmission-tower
        icon_color: orange
        primary_info: state
        secondary_info: name

  # =====================================
  # ROW 2: Battery Details
  # =====================================
  - type: vertical-stack
    cards:
      - type: custom:mushroom-title-card
        title: üîã Bateria
        subtitle: Stan magazynu energii

      - type: horizontal-stack
        cards:
          - type: sensor
            entity: sensor.inverter_battery
            name: Stan na≈Çadowania
            graph: line
            detail: 2
            hours_to_show: 24

          - type: sensor
            entity: sensor.inverter_battery_power
            name: Moc baterii
            graph: line
            detail: 2
            hours_to_show: 24

      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: sensor.inverter_battery_voltage
            name: Napiƒôcie
            icon: mdi:lightning-bolt
            icon_color: yellow

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_battery_current
            name: PrƒÖd
            icon: mdi:current-dc
            icon_color: blue

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_battery_temperature
            name: Temperatura
            icon: mdi:thermometer
            icon_color: orange

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_battery_state
            name: Stan
            icon: mdi:battery-charging
            icon_color: green

  # =====================================
  # ROW 3: Production & Consumption
  # =====================================
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: repeat(2, 1fr)
      gap: 8px
    cards:
      # Production Column
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: ‚òÄÔ∏è Produkcja
            subtitle: Energia z paneli PV

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_today_production
            name: Dzisiaj
            icon: mdi:solar-power
            icon_color: amber
            primary_info: state
            secondary_info: name

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_total_production
            name: ≈ÅƒÖcznie
            icon: mdi:solar-power-variant
            icon_color: amber
            primary_info: state
            secondary_info: name

          - type: horizontal-stack
            cards:
              - type: custom:mushroom-entity-card
                entity: sensor.inverter_pv1_power
                name: PV1
                icon: mdi:solar-panel
                icon_color: orange

              - type: custom:mushroom-entity-card
                entity: sensor.inverter_pv2_power
                name: PV2
                icon: mdi:solar-panel
                icon_color: orange

      # Consumption Column
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: üè† Zu≈ºycie
            subtitle: Energia pobrana

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_today_load_consumption
            name: Dzisiaj
            icon: mdi:home-lightning-bolt
            icon_color: blue
            primary_info: state
            secondary_info: name

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_total_load_consumption
            name: ≈ÅƒÖcznie
            icon: mdi:home-lightning-bolt-outline
            icon_color: blue
            primary_info: state
            secondary_info: name

          - type: horizontal-stack
            cards:
              - type: custom:mushroom-entity-card
                entity: sensor.inverter_load_l1_power
                name: L1
                icon: mdi:flash
                icon_color: red

              - type: custom:mushroom-entity-card
                entity: sensor.inverter_load_l2_power
                name: L2
                icon: mdi:flash
                icon_color: red

              - type: custom:mushroom-entity-card
                entity: sensor.inverter_load_l3_power
                name: L3
                icon: mdi:flash
                icon_color: red

  # =====================================
  # ROW 4: Grid Import/Export
  # =====================================
  - type: vertical-stack
    cards:
      - type: custom:mushroom-title-card
        title: üîå Sieƒá energetyczna
        subtitle: Import i eksport energii

      - type: horizontal-stack
        cards:
          - type: sensor
            entity: sensor.inverter_today_energy_import
            name: Import dzisiaj
            graph: line
            detail: 2
            hours_to_show: 24

          - type: sensor
            entity: sensor.inverter_today_energy_export
            name: Eksport dzisiaj
            graph: line
            detail: 2
            hours_to_show: 24

      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: sensor.inverter_total_energy_import
            name: Import ≈ÇƒÖcznie
            icon: mdi:transmission-tower-import
            icon_color: red

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_total_energy_export
            name: Eksport ≈ÇƒÖcznie
            icon: mdi:transmission-tower-export
            icon_color: green

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_grid_power
            name: Moc sieciowa
            icon: mdi:transmission-tower
            icon_color: orange

  # =====================================
  # ROW 5: Battery Charge/Discharge
  # =====================================
  - type: vertical-stack
    cards:
      - type: custom:mushroom-title-card
        title: üîÑ ≈Åadowanie baterii
        subtitle: Energia ≈Çadowania i roz≈Çadowania

      - type: horizontal-stack
        cards:
          - type: sensor
            entity: sensor.inverter_today_battery_charge
            name: Na≈Çadowano dzisiaj
            graph: line
            detail: 2
            hours_to_show: 24

          - type: sensor
            entity: sensor.inverter_today_battery_discharge
            name: Roz≈Çadowano dzisiaj
            graph: line
            detail: 2
            hours_to_show: 24

      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: sensor.inverter_total_battery_charge
            name: ≈Åadowanie ≈ÇƒÖcznie
            icon: mdi:battery-charging-100
            icon_color: green

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_total_battery_discharge
            name: Roz≈Çadowanie ≈ÇƒÖcznie
            icon: mdi:battery-80
            icon_color: orange

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_battery_soh
            name: Stan zdrowia
            icon: mdi:battery-heart
            icon_color: green

  # =====================================
  # ROW 6: System Status
  # =====================================
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: repeat(3, 1fr)
      gap: 8px
    cards:
      # Temperatures
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: üå°Ô∏è Temperatury
            subtitle: Monitoring termiczny

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_temperature
            name: Falownik
            icon: mdi:thermometer
            icon_color: red

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_dc_temperature
            name: DC
            icon: mdi:thermometer
            icon_color: orange

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_battery_temperature
            name: Bateria
            icon: mdi:thermometer
            icon_color: blue

      # Device Status
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: ‚öôÔ∏è Status urzƒÖdzenia
            subtitle: Stan systemu

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_device_state
            name: Stan falownika
            icon: mdi:check-circle
            icon_color: green

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_device_alarm
            name: Alarmy
            icon: mdi:bell-alert
            icon_color: amber

          - type: custom:mushroom-entity-card
            entity: sensor.inverter_device_fault
            name: Awarie
            icon: mdi:alert-circle
            icon_color: red

      # Controls
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: üéõÔ∏è Sterowanie
            subtitle: Prze≈ÇƒÖczniki systemu

          - type: custom:mushroom-entity-card
            entity: switch.inverter
            name: Falownik
            icon: mdi:power
            icon_color: green
            tap_action:
              action: toggle

          - type: custom:mushroom-entity-card
            entity: switch.inverter_battery_grid_charging
            name: ≈Åadowanie z sieci
            icon: mdi:battery-charging
            icon_color: blue
            tap_action:
              action: toggle

          - type: custom:mushroom-entity-card
            entity: switch.inverter_export_surplus
            name: Eksport nadwy≈ºki
            icon: mdi:transmission-tower-export
            icon_color: green
            tap_action:
              action: toggle

  # =====================================
  # ROW 7: Savings & Self Consumption
  # =====================================
  - type: horizontal-stack
    cards:
      - type: custom:mushroom-entity-card
        entity: sensor.solarman_daily_savings
        name: Oszczƒôdno≈õci dzisiaj
        icon: mdi:currency-usd
        icon_color: green
        primary_info: state
        secondary_info: name

      - type: custom:mushroom-entity-card
        entity: sensor.solarman_self_consumption
        name: Samozu≈ºycie
        icon: mdi:home-battery
        icon_color: blue
        primary_info: state
        secondary_info: name
