# ============================================================================
# STRAVA COACH DASHBOARD - Complete View
# ============================================================================
# Copy the YAML below and paste it as a new view in your dashboard
# or add individual cards to your existing dashboard

title: Strava Coach
path: strava-coach
icon: mdi:run
badges: []
cards:
  # -------------------------------------------------------------------------
  # ROW 1: MANUAL SYNC BUTTON
  # -------------------------------------------------------------------------
  - type: button
    name: Sync Strava Now
    icon: mdi:sync
    tap_action:
      action: call-service
      service: strava_coach.sync_now
      data: {}
    hold_action:
      action: none

  # -------------------------------------------------------------------------
  # ROW 2: READINESS GAUGE (MAIN METRIC)
  # -------------------------------------------------------------------------
  - type: gauge
    entity: sensor.strava_coach_readiness
    name: Training Readiness
    min: 0
    max: 100
    needle: true
    severity:
      green: 70
      yellow: 50
      red: 0
    unit: '%'

  # -------------------------------------------------------------------------
  # ROW 3: METRIC CARDS
  # -------------------------------------------------------------------------
  - type: horizontal-stack
    cards:
      - type: statistic
        entity: sensor.strava_coach_fitness
        name: Fitness (CTL)
        icon: mdi:trending-up
      - type: statistic
        entity: sensor.strava_coach_fatigue
        name: Fatigue (ATL)
        icon: mdi:tire
      - type: statistic
        entity: sensor.strava_coach_form
        name: Form (TSB)
        icon: mdi:chart-line

  # -------------------------------------------------------------------------
  # ROW 4: DETAILED METRICS TABLE
  # -------------------------------------------------------------------------
  - type: entities
    title: Training Metrics
    entities:
      - entity: sensor.strava_coach_readiness
        name: Readiness Score
        icon: mdi:gauge
      - entity: sensor.strava_coach_fitness
        name: Fitness (CTL)
        icon: mdi:trending-up
      - entity: sensor.strava_coach_fatigue
        name: Fatigue (ATL)
        icon: mdi:tire
      - entity: sensor.strava_coach_form
        name: Form (TSB)
        icon: mdi:chart-line
      - type: attribute
        entity: sensor.strava_coach_readiness
        attribute: data_age_days
        name: Data Age (days)
        icon: mdi:calendar-clock
      - type: attribute
        entity: sensor.strava_coach_readiness
        attribute: last_activity_date
        name: Last Activity Date
        icon: mdi:calendar

  # -------------------------------------------------------------------------
  # ROW 5: HISTORY GRAPH (7 DAYS)
  # -------------------------------------------------------------------------
  - type: history-graph
    title: Training Load History (7 days)
    hours_to_show: 168
    entities:
      - entity: sensor.strava_coach_fitness
        name: Fitness (CTL)
      - entity: sensor.strava_coach_fatigue
        name: Fatigue (ATL)
      - entity: sensor.strava_coach_form
        name: Form (TSB)

  # -------------------------------------------------------------------------
  # ROW 6: TODAY'S SUGGESTION
  # -------------------------------------------------------------------------
  - type: markdown
    content: |
      ## Today's Training Suggestion
      {{ states('sensor.strava_coach_today_suggestion') }}
    title: Daily Recommendation
